{
	"info": {
		"_postman_id": "2850b933-d0b8-48ef-ab79-e5bf1677fd30",
		"name": "liuyan_v11",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12776872"
	},
	"item": [
		{
			"name": "login",
			"item": [
				{
					"name": "账号密码登录成功",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"/*\r",
									"tests[\"Response time is less than 200ms\"] = responseTime < 200;\r",
									"  //判断请求时长是否小于200ms ,具体时长按情况自定义\r",
									"\r",
									" /*\r",
									" tests[\"has token\"] = responseBody.has(\"token\");\r",
									"//判断返回结果中是否含有 token 关键字\r",
									"\r",
									"tests[\"Body is correct\"] = responseBody === \"这里可以改为你的预期内容\";\r",
									"//判断返回内容是否跟预期完全相等。\r",
									"/*\r",
									" tests[\"status is code 200\"]= responseCode.code === 200;\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"*/\r",
									"\r",
									"\r",
									"\r",
									" var jsonData = pm.response.json();\r",
									"//定义一个acquiretoken方法(获取token)，把responseBody转为json字符串\r",
									"pm.environment.set(\"token\",jsonData.data.token)\r",
									"\r",
									"//将token变量放置到当前环境变量里去    \r",
									"\r",
									"/*\r",
									"if(response.code === 200 && responseBody.has(\"access_token\")){\r",
									"//如果code码为200，并且返回的数据中存在 access_token 关键字，则认为登录成功 \r",
									"tests[\"login\"] = true;\r",
									"//将返回的内容转为json格式，并且取到 access_token 内容，添加到环境变量中\r",
									"var jsonDate = JSON.parse(responseBody);\r",
									"//access_token 的取值方式视具体的json数据而定\r",
									"\r",
									"//跳转到 获取在线列表 接口\r",
									"postman.setNextRequest(\"获取在线列表\")\r",
									"}else{\r",
									"    tests[\"login\"] = false;\r",
									"//登录失败，可以选择跳转到对应失败后的处理接口进行测试\r",
									"//postman.setNextRequest(\"Other Request\")\r",
									"}\r",
									"\r",
									"*/\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"//构造一个登录请求\r",
									"const loginRequest = {\r",
									"\turl: 'http://115.28.108.130:5000/api/user/login/',\r",
									"\tmethod: \"POST\",\r",
									"    body: {\r",
									"        mode: 'urlencoded',  // 模式为表单url编码模式\r",
									"        urlencoded: 'name=张三&password=123456'\r",
									"    }\r",
									"}\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v5",
								"type": "text"
							},
							{
								"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded;charset=UTF-8",
								"type": "text"
							},
							{
								"key": "device",
								"value": "1",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "5070642340598976ss",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "user_login",
									"value": "{{user_login}}",
									"type": "text"
								},
								{
									"key": "user_pass",
									"value": "{{user_pass}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/api/Login/userLogin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"Login",
								"userLogin"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "商城道具购买",
			"item": [
				{
					"name": "道具购买(正向)接口",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.msg).to.eql(\"购买成功\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "3padkf3377i86n9u",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\": \"16\",\r\n    \"type\": \"car\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{URL}}/api/Mall/buysNew",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"Mall",
								"buysNew"
							]
						}
					},
					"response": []
				},
				{
					"name": "道具购必填参数缺失",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "3padkf3377i86n9u",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\": \"16\",\r\n    \"type\": \"car\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{URL}}/api/Mall/buysNew",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"Mall",
								"buysNew"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "database",
			"item": [
				{
					"name": "New Request",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		},
		{
			"name": "个人中心",
			"item": [
				{
					"name": "取消自动续费",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded;charset=UTF-8",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "5070642340598976ss",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "type",
									"value": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/api/Vip/cancleAutoVip",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"Vip",
								"cancleAutoVip"
							]
						}
					},
					"response": []
				},
				{
					"name": "获取会员列表",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded;charset=UTF-8",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "5070642340598976ss",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "type",
									"value": "2",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/api/vip/getList",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"vip",
								"getList"
							]
						}
					},
					"response": []
				},
				{
					"name": "用户购买会员",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "获取用户信息",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded;charset=UTF-8",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "5070642340598976ss",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/api/User/getBaseInfo",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"User",
								"getBaseInfo"
							]
						}
					},
					"response": []
				},
				{
					"name": "我的背包",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded;charset=UTF-8",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "5070642340598976ss",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{URL}}/api/Mall/getMallGoods",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"Mall",
								"getMallGoods"
							]
						}
					},
					"response": []
				},
				{
					"name": "我的账单",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "直播收益记录查询",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded;charset=UTF-8",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "5070642340598976ss",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "starttime",
									"value": "",
									"type": "text"
								},
								{
									"key": "endtime",
									"value": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/api/User/getLiverecord",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"User",
								"getLiverecord"
							]
						}
					},
					"response": []
				},
				{
					"name": "vip/svip权益",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "New Request",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		},
		{
			"name": "直播间",
			"item": [
				{
					"name": "获取直播间管理员",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "version",
								"value": "v11",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded;charset=UTF-8",
								"type": "text"
							},
							{
								"key": "device",
								"value": "2",
								"type": "text"
							},
							{
								"key": "timekey",
								"value": "5070642340598976ss",
								"type": "text"
							},
							{
								"key": "token",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "liveuid",
									"value": "{{uid}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/api/LiveManage/getManageList",
							"host": [
								"{{URL}}"
							],
							"path": [
								"api",
								"LiveManage",
								"getManageList"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "New Request",
			"request": {
				"method": "GET",
				"header": []
			},
			"response": []
		},
		{
			"name": "New Request",
			"request": {
				"method": "GET",
				"header": []
			},
			"response": []
		}
	]
}